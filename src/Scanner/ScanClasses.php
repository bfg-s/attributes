<?phpnamespace Bfg\Attributes\Scanner;use Bfg\Doc\Attributes\Doc;use Bfg\Doc\Attributes\DocClassName;use Illuminate\Filesystem\Filesystem;use Illuminate\Support\Collection;/** * Class ScanClasses * @package Bfg\Object\ClassStorageCore */class ScanClasses{    /**     * @var Collection     */    public Collection $classes;    /**     * ScanClasses constructor.     * @param  Filesystem  $filesystem     * @param  ScanFiles  $scanFiles     */    public function __construct(        protected Filesystem $filesystem,        ScanFiles $scanFiles    ) {        $this->classes = $this->makeList($scanFiles->files);    }    /**     * @param  Collection  $files     * @return Collection     */    protected function makeList(Collection $files): Collection    {        return $files->map(fn($i) => ['file' => $i, 'class' => class_in_file($i)])            ->filter(function (array $i) {                try {                    return $i['class'] && class_exists($i['class']);                } catch (\Throwable) {                    return false;                }            })->map(function (array $i) {                return new \ReflectionClass($i['class']);            })->filter();    }}